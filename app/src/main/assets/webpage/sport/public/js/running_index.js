!function(e){function a(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}var t={};a.m=e,a.c=t,a.p="",a(0)}([function(e,a,t){t(5),t(6),t(7),t(8)},,function(e,a){!function(e,a,t){function n(){var e="",t={versions:function(){var e=navigator.userAgent;navigator.appVersion;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&e.indexOf("KHTML")==-1,mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:e.indexOf("Safari")==-1,weixin:"micromessenger"==e.match(/MicroMessenger/i)||void 0!=a.WeixinJSBridge}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()};return t.versions.ios||t.versions.iPhone||t.versions.iPad?(e="ios",console.log(e),e):t.versions.android?(e="android",console.log(e),e):(console.log(e),e)}a.MygetUserAgentFun=n}(document,window,$)},function(e,a,t){function n(e){for(var a=c(window.RUNNINGTIME),t=[],n=0;n<e.length;n++){console.log("=================================",Math.floor(a*e[n]/100));var o=Math.floor(a*e[n]/100);o=p(o),console.log("===================",o),t.push(o)}var r=Math.max.apply(null,e),l="",i=$.getParam("language");"zh_cn"===i?l=["热身<br><span style='color: rgba(0,0,0,0.2)'>"+t[0]+"</span>","减脂<br><span style='color: rgba(0,0,0,0.2)'>"+t[1]+"</span>","心肺<br><span style='color: rgba(0,0,0,0.2)'>"+t[2]+"</span>","肌力<br><span style='color: rgba(0,0,0,0.2)'>"+t[3]+"</span>","最大<br><span style='color: rgba(0,0,0,0.2)'>"+t[4]+"</span>"]:"en"===i?l=["1<br><span style='color: rgba(0,0,0,0.2)'>"+t[0]+"</span>","2<br><span style='color: rgba(0,0,0,0.2)'>"+t[1]+"</span>","3<br><span style='color: rgba(0,0,0,0.2)'>"+t[2]+"</span>","4<br><span style='color: rgba(0,0,0,0.2)'>"+t[3]+"</span>","5<br><span style='color: rgba(0,0,0,0.2)'>"+t[4]+"</span>"]:"zh_tw"!==i&&"zh_hk"!==i||(l=["熱身<br><span style='color: rgba(0,0,0,0.2)'>"+t[0]+"</span>","減脂<br><span style='color: rgba(0,0,0,0.2)'>"+t[1]+"</span>","心肺<br><span style='color: rgba(0,0,0,0.2)'>"+t[2]+"</span>","肌力<br><span style='color: rgba(0,0,0,0.2)'>"+t[3]+"</span>","最大<br><span style='color: rgba(0,0,0,0.2)'>"+t[4]+"</span>"]);var s={chart:{type:"column"},title:{text:null},credits:{enabled:!1},legend:{enabled:!1},plotOptions:{series:{pointWidth:20},column:{enableMouseTracking:!1}},xAxis:{title:{text:null},labels:{enabled:!0,style:{color:"rgba(0,0,0,0.2)",fontSize:"10px"}},lineColor:"rgba(0,0,0,0.1)",lineWidth:.5,categories:l,tickLength:0},yAxis:{title:{text:null},softMax:r+10,labels:{enabled:null},gridLineWidth:0},series:[{color:"#F3222E",data:e,dataLabels:{enabled:!0,format:"{point.y:1f}%",color:"rgba(0,0,0,0.8)",style:{fontFamily:"Akrobat-SemiBold",fontSize:"14px",color:"rgba(0,0,0,0.8)",fontWeight:"500"},x:0}}]};Highcharts.chart("heart-chart",s)}function o(e){var a=e.length>=30?30:e.length,t=e.length/30>1?Math.floor(e.length/30):1,n=[],o=window.RUNNINGTIME.split(":");o=3!==o.length?+o[0]:60*+o[0]+ +o[1];var r=+o,l=1;if(r<=14?l=1:14<r&&r<=28?l=2:28<r&&r<=42?l=3:42<r&&r<=54?l=4:54<r&&r<=72?l=6:72<r&&(l=10),e.length<=30)for(var i=0;i<a;i++)n.push(e[i]);else for(var i=0;i<a;i++)e[i+i*t]&&(console.log(i+i*t),console.log(e[i+i*t]),n.push([0,e[i+i*t][1]]));o=Number(o)/n.length;for(var i=0;i<n.length;i++)n[i][0]=0==i?i*o:i*o+o,e[i][1]=+e[i][1].toFixed(0);var s={chart:{type:"area"},title:{text:null},credits:{enabled:!1},legend:{enabled:!1},xAxis:{min:0,max:r,title:{text:null},lineColor:"rgba(0,0,0,0.1)",lineWidth:.5,labels:{enabled:!0,style:{color:"rgba(0,0,0,0.2)",fontSize:"10px"},step:l},tickLength:0,tickInterval:1},yAxis:{min:0,lineWidth:0,minPadding:0,title:{text:null},showFirstLabel:!1,labels:{enabled:!0,style:{color:"rgba(0,0,0,0.2)",fontSize:"10px"}},gridLineWidth:.5},plotOptions:{area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"rgba(243,34,46,.5)"],[1,"rgba(243,34,46,0)"]]},enableMouseTracking:!1}},series:[{data:n,zones:[{value:3,color:"rgba(255,255,255,0)"},{color:"#F3222E"}],marker:{enabled:!1},dataLabels:{enabled:!1,format:"{point.y:.1f}%",color:"rgba(0,0,0,0.8)"}}]},c=Highcharts.chart("heart-real-chart",s),p=g(n);h.getChartMax(c,p,"normal")}function r(e){var a=[],t=10,n="10px",o=Math.max.apply(null,e);e.length<=5?(t=20,n="14px"):e.length<=10&&e.length>5?(t=18,n="12px"):e.length<=15&&e.length>10?(t=12,n="10px"):e.length<=20&&e.length>15?(t=10,n="8px"):e.length>20&&(t=8,n="8px");for(var r=e,l=0;l<e.length;l++)a.push(l+1);var i={chart:{type:"column"},title:{text:null},credits:{enabled:!1},legend:{enabled:!1},plotOptions:{series:{pointWidth:t},column:{enableMouseTracking:!1,dataLabels:{enabled:!0,formatter:function(){return Highcharts.numberFormat(this.point.y,2,"'")+"''"},allowOverlap:!0,color:"rgba(0,0,0,0.8)",style:{fontFamily:"Akrobat-SemiBold",fontSize:n,color:"rgba(0,0,0,0.8)"},x:3}}},xAxis:{title:{text:null},labels:{enabled:!0,style:{color:"rgba(0,0,0,0.2)",fontSize:"10px"}},lineColor:"rgba(0,0,0,0.1)",lineWidth:.5,tickLength:0,categories:a},yAxis:{title:{text:null},labels:{enabled:null},softMax:o,gridLineWidth:0},series:[{color:"#00BB00",data:r}]};Highcharts.chart("pace-chart",i)}function l(e){var a=[],t=e.length,n=window.RUNNINGTIME.split(":");n=3!==n.length?+n[0]:60*+n[0]+ +n[1];var o=+n;console.log(o);var r=1;o<=14?r=1:14<o&&o<=28?r=2:28<o&&o<=42?r=3:42<o&&o<=54?r=4:54<o&&o<=72?r=6:72<o&&(r=10),n=Number(n)/t;for(var l=0;l<e.length;l++)e[l][0]=l,e[l][1]>30?(e[l][1]=30,e[l][1]=+e[l][1].toFixed(2)):e[l][1]<3&&(e[l][1]=3,e[l][1]=+e[l][1].toFixed(2)),a.push([l,e[l][1]]);for(var l=0;l<a.length;l++)a[l][0]=0==l?a[l][0]*n:a[l][0]*n+n;console.log("新生产的数据",a);var i={chart:{type:"area"},title:{text:null},credits:{enabled:!1},legend:{enabled:!1},xAxis:{min:0,max:o,title:{text:null},lineColor:"rgba(0,0,0,0.1)",lineWidth:.5,allowDecimals:!1,labels:{enabled:!0,style:{color:"rgba(0,0,0,0.2)",fontSize:"10px"},step:r},tickLength:0,tickInterval:1},yAxis:{min:0,lineWidth:0,minPadding:0,title:{text:null},labels:{enabled:!1,style:{color:"rgba(0,0,0,0.2)",fontSize:"10px"}},gridLineWidth:0},plotOptions:{area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"rgba(0,187,0,0.5)"],[1,"rgba(0,187,0,0)"]]},enableMouseTracking:!1}},series:[{color:"#00BB00",data:a,marker:{enabled:!1},dataLabels:{enabled:!1,format:"{point.y:.1f}%",color:"rgba(0,0,0,0.8)"},type:"area"}]},s=Highcharts.chart("pace-real-chart",i);h.getChartMax(s,h.getMaxAndMin(i),"real-pace")}function i(e){var a={chart:{type:"area"},title:{text:null},credits:{enabled:!1},legend:{enabled:!1},xAxis:{title:{text:null},lineColor:"rgba(0,0,0,0.1)",lineWidth:.5,labels:{enabled:!0,style:{color:"rgba(0,0,0,0.2)",fontSize:"10px"}},tickLength:0},yAxis:{title:{text:null},labels:{enabled:!0,style:{color:"rgba(0,0,0,0.2)",fontSize:"10px"}},gridLineWidth:.5},plotOptions:{area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"rgba(255,103,36,0.5)"],[1,"rgba(255,103,36,0)"]]},enableMouseTracking:!1}},series:[{color:"#FF6724",data:e,marker:{enabled:!1},dataLabels:{enabled:!1,format:"{point.y:.1f}%",color:"rgba(0,0,0,0.8)"},type:"area"}]},t=Highcharts.chart("frequency-real-chart",a);h.getChartMax(t,h.getMaxAndMin(a),"normal")}function s(e){var a=e.length,t=window.RUNNINGTIME.split(":");t=3!==t.length?+t[0]:60*+t[0]+ +t[1];var n=+t,o=1;n<=14?o=1:14<n&&n<=28?o=2:28<n&&n<=42?o=3:42<n&&n<=54?o=4:54<n&&n<=72?o=6:72<n&&(o=10),t=Number(t)/a;for(var r=0;r<e.length;r++)e[r][0]=0==r?e[r][0]*t:e[r][0]*t+t,e[r][1]=+e[r][1].toFixed(0);var l={chart:{type:"area"},title:{text:null},credits:{enabled:!1},legend:{enabled:!1},xAxis:{min:0,max:n,title:{text:null},lineColor:"rgba(0,0,0,0.1)",lineWidth:.5,labels:{enabled:!0,style:{color:"rgba(0,0,0,0.2)",fontSize:"10px"},step:o},tickLength:0,tickInterval:1},yAxis:{min:0,lineWidth:0,minPadding:0,title:{text:null},showFirstLabel:!1,labels:{enabled:!0,style:{color:"rgba(0,0,0,0.2)",fontSize:"10px"}},gridLineWidth:.5},plotOptions:{area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"rgba(47,104,210,0.5)"],[1,"rgba(47,104,210,0)"]]},enableMouseTracking:!1}},series:[{color:"#2F68D2",data:e,marker:{enabled:!1},dataLabels:{enabled:!1,format:"{point.y:.1f}%",color:"rgba(0,0,0,0.8)"},type:"area"}]},i=Highcharts.chart("pace-altitude-chart",l);h.getChartMax(i,h.getMaxAndMin(l),"normal")}function c(e){var a,t=e.split(":");return a=60*Number(t[0])+Number(t[1]),console.log(a),a}function p(e){var a=Math.floor(e/60),t=e%60;return a<10&&(a="0"+a),t<10&&(t="0"+t),a+":"+t}function g(e){for(var a=[],t=0;t<e.length;t++)a.push(e[t][1]);console.log("-------------------",e),console.log("DATA======",a);var n=function(e){console.log(a);for(var t=0,n=1;n<e.length;n++)e[n]>e[t]&&(t=n);return t}(a),o=function(e){for(var a=[],t=0,n=1;n<e.length;n++)0!==e[n]&&a.push(e[n]);for(var o=Math.min.apply(null,a),n=1;n<e.length;n++)e[n]===o&&(t=n);return t}(a);return[{index:o,value:a[o]},{index:n,value:a[n]}]}var h=t(4);a.altitudeLineChart=s,a.paceLineChart=i,a.kilometreBarChart=r,a.kilometreLineChart=l,a.heartLineChart=o,a.heartBarChart=n},function(e,a){function t(e,a,t){console.log(a);var n,o=e.series[0].data[a[0].index],l=e.series[0].data[a[1].index],i="",s={minGeneral3:0,minGeneral2:1.3,minGeneral1:4,maxGeneral3:-3,maxGeneral2:-1.2,maxGeneral1:1,minPace2:-5,minPace3:-4.5,maxPace2:-6,maxPace3:-8};a[0].value+=0,a[1].value+=0,r(a[0].value)===!1&&(a[0].value=a[0].value.toFixed(2)),r(a[1].value)===!1&&(a[1].value=a[1].value.toFixed(2)),console.log(a[0].value,a[1].value),"real-pace"!==t?(console.log("real-pace"),n=a[0].value>99?s.minGeneral3:a[0].value>9&&a[0].value<=99?s.minGeneral2:s.minGeneral1,i=a[1].value>99?s.maxGeneral3:a[1].value>9&&a[1].value<=99?s.maxGeneral2:s.maxGeneral1):(n=a[0].value>9?s.minPace3:s.minPace2,i=a[1].value>9?s.maxPace3:s.maxPace2,3===a[0].value?a[0].value="3'00''":a[0].value=a[0].value.toString().replace(".","'")+"''",30===a[1].value?a[1].value="30'00''":a[1].value=a[1].value.toString().replace(".","'")+"''"),console.log(n+"-----------"+i);e.renderer.text(a[0].value,o.plotX+e.plotLeft+n-3,o.plotY+e.plotTop+15).attr({zIndex:5}).css({color:"#fff",fontSize:"12px",fontFamily:"Akrobat-SemiBold"}).add(),e.renderer.image("../public/images/Cursor_bottom.png",o.plotX+e.plotLeft-13,o.plotY+e.plotTop+0,32,18).attr({zIndex:1}).add(),e.renderer.image("../public/images/Cursor_top.png",l.plotX+e.plotLeft-12,l.plotY+e.plotTop-18,32,18).attr({zIndex:1}).add(),e.renderer.text(a[1].value,l.plotX+e.plotLeft+i,l.plotY+e.plotTop-7).attr({zIndex:6}).css({color:"#fff",fontSize:"12px",fontFamily:"Akrobat-SemiBold"}).add()}function n(e){var a=!1,t=e.series[0].data,n=0;console.log("DATA======",t),console.log(t[0][1]),console.log(t[t.length-1][1]);for(var o=0;o<t.length;o++)0===t[o][1]&&(t.shift(),a=!0,n++);0==t[t.length-1][1]&&(console.log("最后一位为 0"),t.pop(),a=!0);for(var o=0;o<t.length;o++)t[o]=t[o][1];var r=t.indexOf(Math.min.apply(Math,t)),l=t.indexOf(Math.max.apply(Math,t));return 1==a?[{index:r+n,value:e.series[0].data[r]},{index:l+n,value:e.series[0].data[l]}]:[{index:r,value:e.series[0].data[r]},{index:l,value:e.series[0].data[l]}]}function o(e){function a(e){for(var a=0;a<length;a++)if(0!==e[a])return a}for(var t=e.series[0].data,n=[],o=0;o<t.length;o++)n.push(t[o][1]);var r=function(e){for(var t=0==e[0]?a(e):0,n=e[t],o=e.length,r=0;r<o;r++)e[r]<n&&0!==e[r]&&(n=e[r],t=r);return t}(n),l=function(e){for(var a=e[0],t=0,n=e.length,o=0;o<n;o++)e[o]>a&&(a=e[o],t=o);return t}(n);return[{index:r,value:n[r]},{index:l,value:n[l]}]}function r(e){return e%1==0}a.getChartMax=t,a.getMaxAndMin=n,a.getMaxAndMinForHeart=o},function(e,a){!function(){var e;$.getParam=function(a){if(!e){e={};var t=location.search;$.each(t.substring(1).split("&"),function(a,t){var n=t.indexOf("="),o=t.substring(0,n),r=t.substring(n+1);o=decodeURIComponent(o),r=decodeURIComponent(r),e[o]=r})}return e[a]||""}}()},function(e,a,t){t(2),function(e,a,n){function o(e){var t=n(".content-info-time em"),o=n(".content-info-kilometre em"),r=n(".content-info-pace em"),l="heart_five.html?language="+n.getParam("language");if("zh_cn"===e){t.text("时长"),o.text("公里"),r.text("配速"),n(".pace-normal-content").eq(0).html("<span>0</span>消耗"),n(".pace-normal-content").eq(1).html("<span>0</span>平均心率");var i=n(".chart-box-pace .chart-box-title").attr("href")+"?language="+n.getParam("language");n(".chart-box-pace .chart-box-title").attr("href",i),n(".chart-box-pace .chart-box-title").html("每公里配速<span>（分钟/公里）</span><a href="+i+"><img src='../public/images/arrow@2x.png' alt='arrow'></a>"),n(".chart-box-pace .chart-box-title").click(function(e){e.stopPropagation(),a.location.href=i}),n(".chart-box-real-pace .chart-box-title").html("实时配速<span>（分钟/公里）</span>"),n(".chart-box-heart .chart-box-title").html("心率五区间占比<a href="+l+"><img src='../public/images/ic_info_black_normal@2x.png' style='position: relative;width: 0.48rem;height: 0.48rem;vertical-align: middle;top: -0.04rem;left: 0.2rem'></a>"),n(".chart-box-real-heart .chart-box-title").html("实时心率<span>（次/分）</span>"),n(".chart-box-altitude .chart-box-title").html("<div>海拔 <span>（米）</span> <span class='chart-box-bottom'></span></div>")}else if("en"===e){t.text("Time"),o.text("Distance"),r.text("Pace"),n(".pace-normal-content").eq(0).html("<span>0</span>Calories"),n(".pace-normal-content").eq(1).html("<span>0</span>Heart rate");var i=n(".chart-box-pace .chart-box-title").attr("href")+"?language="+n.getParam("language");n(".chart-box-pace .chart-box-title").attr("href",i),n(".chart-box-pace .chart-box-title").html("Pace<span>(min/km)</span><a href="+i+"><img src='../public/images/arrow@2x.png' alt='arrow'></a>"),n(".chart-box-pace .chart-box-title").click(function(e){e.stopPropagation(),a.location.href=i}),n(".chart-box-real-pace .chart-box-title").html("Realtime pace<span>(min/km)</span>"),n(".chart-box-heart .chart-box-title").html("Heart rate zone<a href="+l+"><img src='../public/images/ic_info_black_normal@2x.png' style='position: relative;width: 0.48rem;height: 0.48rem;vertical-align: middle;top: -0.04rem;left: 0.2rem'></a>"),n(".chart-box-real-heart .chart-box-title").html("Realtime heart rate<span>(beat/min)</span>"),n(".chart-box-altitude .chart-box-title").html("<div>Altitude <span>(m)</span> <span class='chart-box-bottom'></span></div>")}else if("zh_tw"===e||"zh_hk"===e){t.text("時長"),o.text("公裏"),r.text("配速"),n(".pace-normal-content").eq(0).html("<span>0</span>消耗"),n(".pace-normal-content").eq(1).html("<span>0</span>平均心率");var i=n(".chart-box-pace .chart-box-title").attr("href")+"?language="+n.getParam("language");n(".chart-box-pace .chart-box-title").attr("href",i),n(".chart-box-pace .chart-box-title").html("每公裏配速<span>(分鍾/公裏)</span><a href="+i+"><img src='../public/images/arrow@2x.png' alt='arrow'></a>"),n(".chart-box-pace .chart-box-title").click(function(e){e.stopPropagation(),a.location.href=i}),n(".chart-box-real-pace .chart-box-title").html("實時配速<span>(分鍾/公裏)</span>"),n(".chart-box-heart .chart-box-title").html("心率五區間占比<a href="+l+"><img src='../public/images/ic_info_black_normal@2x.png' style='position: relative;width: 0.48rem;height: 0.48rem;vertical-align: middle;top: -0.04rem;left: 0.2rem'></a>"),n(".chart-box-real-heart .chart-box-title").html("實時心率<span>(次/分)</span>"),n(".chart-box-altitude .chart-box-title").html("<div>海拔 <span>(米)</span> <span class='chart-box-bottom'></span></div>")}}function r(e){var t=JSON.parse(e);console.log("DataObj",t);for(var o=[],r=0;r<t.length;r++)o.push(new AMap.LngLat(t[r].longitude,t[r].latitude));y.myRoutes.setPath(o),y.myMap.setFitView(y.myRoutes),y.myMap.on("complete",function(){y.myRoutes.setOptions({strokeOpacity:1,strokeColor:"#00BB00 "}),y.myStartPoint.setIcon(new AMap.Icon({size:new AMap.Size(20,20),imageSize:new AMap.Size(20,20),image:"../public/images/start@2x.png",imageOffset:new AMap.Pixel(0,0)}));var e=o.length;y.myStartPoint.setPosition(o[0]),y.myEndPoint.setPosition(o[e-1]),console.log(e),1===a.maptype&&setTimeout(function(){n(".amap-labels").hide()},500)})}function l(){n(".amap-logo").attr("href","javascript:void(0)").css({"-webkit-tap-highlight-color":"transparent"}),n(".amap-copyright").text(""),n(".amap-logo img").css({position:"absolute",top:0})}function i(e,a){void 0==a&&console.log("CallBackRunningData()  type is undefined"),s(JSON.parse(e),a),n(".loading-box").hide()}function s(e,t){y.myPageType=t,a.maptype=e.maptype,console.log(a.maptype);var o=n.getParam("language");void 0==t&&console.log("setBodyData()  type is undefined");var r;r=1===a.maptype?["bg","road"]:["bg","road","building","point"],1==t?(y.myMap=new AMap.Map("map-box",{zoom:15,animateEnable:!1,resizeEnable:!0,touchZoom:!1,doubleClickZoom:!1,dragEnable:!1,mapStyle:"normal",center:new AMap.LngLat(113.935364,22.530001),features:r}),y.myStartPoint=new AMap.Marker({map:y.myMap,position:new AMap.LngLat(113.935364,22.530001),zIndex:300,icon:new AMap.Icon({size:new AMap.Size(20,20),imageSize:new AMap.Size(20,20),image:"../public/images/start@2x.png",imageOffset:new AMap.Pixel(0,0)}),offset:new AMap.Pixel(-10,-10)}),y.myEndPoint=new AMap.Marker({map:y.myMap,position:new AMap.LngLat(113.935364,22.530001),zIndex:300,icon:new AMap.Icon({size:new AMap.Size(20,20),imageSize:new AMap.Size(20,20),image:"../public/images/end@2x.png",imageOffset:new AMap.Pixel(0,0)}),offset:new AMap.Pixel(-10,-10)}),y.myRoutes=new AMap.Polyline({map:y.myMap,path:[],strokeColor:"#3366FF",strokeOpacity:0,strokeWeight:6,strokeStyle:"solid",isOutline:!1,outlineColor:"#ffffff",lineJoin:"round",zIndex:50}),l()):2==t?(n(".map-box-bg").css({background:"url(../public/images/test/test_running_2.png) no-repeat center",backgroundSize:"cover"}),n(".map-box").css({height:"auto"}),n(".chart-box-altitude").hide(),n(".amap-maps").hide()):3==t?(n(".map-box-bg").css({background:"url(../public/images/test/test_running_3.png) no-repeat center",backgroundSize:"cover"}),n(".map-box").css({height:"auto"}),n(".amap-maps").hide()):4==t&&(n(".map-box-bg").css({background:"url(../public/images/test/test_running_4.png) no-repeat center",backgroundSize:"cover"}),n(".map-box").css({height:"auto"}),n(".amap-maps").hide()),a.RUNNINGTIME=e.time,n(".content-info-time i").text(e.time);var i=b(e.pace);n(".content-info-pace i").text(i),n(".content-info-kilometre i").text(e.kilometre);var s=n(".pace-data-box .pace-data-normal .pace-normal-content span");"zh_cn"===o?(s.eq(0).text(e.consume+" 千卡"),s.eq(1).text(e.average+" 次/分")):"en"===o?(s.eq(0).text(e.consume+" Kcal"),s.eq(1).text(e.average+" BPM")):"zh_tw"!==o&&"zh_hk"!==o||(s.eq(0).text(e.consume+" 千卡"),s.eq(1).text(e.average+" 次/分")),s.eq(2).text(e.recovery),void 0!==e.altitude&&""!==e.altitude?(console.log("obj.altitude=================",e.altitude),"zh_cn"===o?n(".chart-box-bottom").text("累计爬升 +"+e.altitude):"en"===o?n(".chart-box-bottom").text("Cumulative climb +"+e.altitude):"zh_tw"!==o&&"zh_hk"!==o||n(".chart-box-bottom").text("累計爬升 +"+e.altitude)):n(".chart-box-bottom").hide();var c=MygetUserAgentFun();try{"ios"==c?a.webkit.messageHandlers.PaceHistoryForDm.postMessage({method:"WebMapIsReady"}):PaceHistoryForDm.WebMapIsReady(),console.log("地图初始化完成 - 通知客户端成功")}catch(e){console.log("地图初始化完成，通知客户端 - 失败  PaceHistoryForDm.WebMapIsReady()")}1===a.maptype&&(setTimeout(function(){n(".amap-labels").hide()},500),Lopper=setInterval(function(){n(".amap-labels").hide()},1500))}function c(e){n(".chart-box-pace").show();var a=JSON.parse(e);a.length>=1&&0!==a[0]?v.kilometreBarChart(a):n(".chart-box-pace").hide()}function p(e){n(".chart-box-real-pace").show();var a=JSON.parse(e);v.kilometreLineChart(a)}function g(e){n(".chart-box-heart").show();var a=JSON.parse(e);v.heartBarChart(a)}function h(e){n(".chart-box-real-heart").show();var a=JSON.parse(e);v.heartLineChart(a)}function m(e){var a=JSON.parse(e);v.paceLineChart(a)}function d(e){n(".chart-box-altitude").show();var a=JSON.parse(e);v.altitudeLineChart(a)}function b(e){if(e.toString().indexOf(".")>0)return e=e.toString().replace(".","'")+"''";if(0!==e){return Math.floor(e/60)+"'"+e%60+"''"}return"0'00''"}function u(){html2canvas(n("#map-box")).then(function(e){var a=convertCanvasToImage(e),t=a.src;try{PaceHistoryForDm.NavShareImg(t)}catch(e){console.log("base64传输失败")}})}function x(e){var a="";if(0===e||"0"===e){a=["bg","road","building","point"];try{clearInterval(Lopper)}catch(e){console.log(e)}}else{a=["bg","road"],setTimeout(function(){n(".amap-labels").hide()},1200);try{Lopper=setInterval(function(){n(".amap-labels").hide(),console.log("ok")},1500)}catch(e){console.log(e)}}y.myMap.setFeatures(a)}function f(e){n(".chart-box-altitude .chart-box-title");var a=n.getParam("language");"zh_cn"===a?n(".chart-box-bottom").text("累计爬升 +"+e).show():"en"===a?n(".chart-box-bottom").text("Cumulative climb +"+e).show():"zh_tw"!==a&&"zh_hk"!==a||n(".chart-box-bottom").text("累計爬升 +"+e).show()}var v=t(3),y={myMap:"",myStartPoint:"",myEndPoint:"",myRoutes:"",myMapCenter:"",myPic:{picBottom:"",picLine:"",picText:"",picReal:"",picStart:"",picEnd:""},myPageType:1,myWebLg:"en"};a.onload=function(){o(n.getParam("language"));var e=MygetUserAgentFun();try{console.log(e),"ios"==e?a.webkit.messageHandlers.PaceHistoryForDm.postMessage({method:"WebIsReady"}):PaceHistoryForDm.WebIsReady(1),console.log("已通知客户端(PaceHistoryForDm)")}catch(e){console.log("通知客户端失败(PaceHistoryForDm)")}},a.CallBackChangeMapType=x,a.CallBackRunningData=i,a.CallBackSetRunningPoint=r,a.CallBackKilometreBarChart=c,a.CallBackKilometreLineChart=p,a.CallBackHeartBarChart=g,a.CallBackHeartLineChart=h,a.CallBackPaceLineChart=m,a.CallBackAltitudeLineChart=d,a.CallBackAltitudeNum=f,a.CallbackGetImages=u}(document,window,$)},function(e,a){!function(e,a,t){function n(e){var a=t(".start-box-right .stars-box li");if(e=Math.round(e),console.log(e),e<6)for(var n=0;n<e;n++)a.get(n).className="img-stars img-stars-empty";else console.log("星星数量设置失败")}a.showStarsNum=n}(document,window,$)},function(e,a){!function(e,a,t){function n(e){var a=new Image;return console.log(e),a.setAttribute("crossOrigin","anonymous"),a.src=e.toDataURL("image/png"),a}a.convertCanvasToImage=n}(document,window,$)}]);